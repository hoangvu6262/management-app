import { isAuthenticated } from "./api"; // List of endpoints that require authentication\nconst PROTECTED_ENDPOINTS = [\n  '/footballmatch',\n  '/calendar',\n  '/auth/change-password',\n  '/auth/revoke-token',\n  '/auth/revoke-all-tokens'\n];\n\n// Helper to check if endpoint requires auth\nexport const isProtectedEndpoint = (url: string): boolean => {\n  return PROTECTED_ENDPOINTS.some(endpoint => url.startsWith(endpoint));\n};\n\n// Enhanced API call with explicit auth checking\nexport const protectedApiCall = async <T = any>(\n  method: \"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\",\n  url: string,\n  data?: any,\n  config?: any\n): Promise<T> => {\n  // Check auth before making protected API calls\n  if (isProtectedEndpoint(url) && !isAuthenticated()) {\n    throw new Error('Authentication required for this endpoint');\n  }\n\n  const { apiCall } = await import('./api');\n  return apiCall<T>(method, url, data, config);\n};\n
